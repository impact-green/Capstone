{"ast":null,"code":"import _toConsumableArray from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n&.MuiButton-root{\\n  color: #1589EE;\\nfont-weight: bold;\\n  \\n}\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from'react';import ReactSwipe from'react-swipe';import styled from'styled-components';import{Breadcrumbs,Link,Button,Select,FormControl,InputLabel,MenuItem}from'@material-ui/core';import{sdgs,sdgsgrey,fundings,bondTypes,issueYears}from'./const';import'./Filter.css';var SelectAllButton=styled(Button)(_templateObject());var Filter=/*#__PURE__*/function(_React$Component){_inherits(Filter,_React$Component);var _super=_createSuper(Filter);function Filter(props){var _this;_classCallCheck(this,Filter);_this=_super.call(this,props);_this.onChange=function(myFunding,myBondType,myYear,mySdg){var myFundingArray=_toConsumableArray(_this.state.fundingArray);var myFundingRange='all';var myBondTypeArray=_toConsumableArray(_this.state.bondTypeArray);var myBondTypeRange='all';var myYearArray=_toConsumableArray(_this.state.yearArray);var myYearRange='all';var mySdgsArray=_toConsumableArray(_this.state.sdgsArray);var mySdgsRange='all';if(myFunding!='all'){myFundingRange='part';if(myFundingArray.includes(myFunding)){var index=myFundingArray.indexOf(myFunding);if(index>-1){myFundingArray.splice(index,1);}if(myFundingArray.length==0){myFundingRange='all';}}else{myFundingArray=myFundingArray.concat(myFunding);}}else{myFundingRange='all';myFundingArray=[];}if(myBondType!='all'){myBondTypeRange='part';if(myBondTypeArray.includes(myBondType)){var index=myBondTypeArray.indexOf(myBondType);if(index>-1){myBondTypeArray.splice(index,1);}if(myBondTypeArray.length==0){myBondTypeRange='all';}}else{myBondTypeArray=myBondTypeArray.concat(myBondType);}}else{myBondTypeRange='all';myBondTypeArray=[];}if(myYear!='all'){myYearRange='part';if(myYearArray.includes(myYear)){var index=myYearArray.indexOf(myYear);if(index>-1){myYearArray.splice(index,1);}if(myYearArray.length==0){myYearRange='all';}}else{myYearArray=myYearArray.concat(myYear);}}else{myYearRange='all';myYearArray=[];}if(mySdg!='all'){mySdgsRange='part';var displayindex=_this.state.sdgdisplay.map(function(e){return e.value;}).indexOf(mySdg);if(mySdgsArray.includes(mySdg)){if(displayindex>-1){var temp1=_this.state.sdgdisplay;temp1[displayindex]=sdgsgrey[displayindex];_this.setState({sdgdisplay:temp1});}var index=mySdgsArray.indexOf(mySdg);if(index>-1){mySdgsArray.splice(index,1);}if(mySdgsArray.length==0){mySdgsRange='all';}}else{mySdgsArray=mySdgsArray.concat(mySdg);if(displayindex>-1){var temp2=_this.state.sdgdisplay;temp2[displayindex]=sdgs[displayindex];_this.setState({sdgdisplay:temp2});}}}else{mySdgsRange='all';mySdgsArray=[];_this.deepCopySdgsgrey();}_this.setState({funding:myFundingRange,fundingArray:myFundingArray,bondType:myBondTypeRange,bondTypeArray:myBondTypeArray,year:myYearRange,yearArray:myYearArray,sdgs:mySdgsRange,sdgsArray:mySdgsArray});_this.props.changeFilter(myFundingRange,myFundingArray,myBondTypeRange,myBondTypeArray,myYearRange,myYearArray,mySdgsRange,mySdgsArray);};_this.state={funding:'all',fundingArray:[],bondType:'all',bondTypeArray:[],year:'all',yearArray:[],sdgs:'all',sdgsArray:[],sdgdisplay:[]};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.deepCopySdgsgrey=_this.deepCopySdgsgrey.bind(_assertThisInitialized(_this));return _this;}_createClass(Filter,[{key:\"componentWillMount\",value:function componentWillMount(){this.deepCopySdgsgrey();}},{key:\"deepCopySdgsgrey\",value:function deepCopySdgsgrey(){var sdgsgreyCopy=JSON.parse(JSON.stringify(sdgsgrey));this.setState({sdgdisplay:sdgsgreyCopy});}},{key:\"render\",value:function render(){var _this2=this;var fiscalYear=new Date().getFullYear()-1;return/*#__PURE__*/React.createElement(\"div\",{className:\"Filter\"},/*#__PURE__*/React.createElement(\"div\",{className:\"buttonLine\"},/*#__PURE__*/React.createElement(\"div\",{className:\"buttonWrapper\"},/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\"},/*#__PURE__*/React.createElement(InputLabel,{id:\"select-outlined-label\"},\"SELECT A BOND ISSUER\"),/*#__PURE__*/React.createElement(Select,{labelId:\"select-outlined-label\",id:\"select-outlined\",value:this.state.bondIssuer,onChange:this.handleChange,label:\"Age\"},/*#__PURE__*/React.createElement(MenuItem,{value:\"\"},/*#__PURE__*/React.createElement(\"em\",null,\"None\")),/*#__PURE__*/React.createElement(MenuItem,{value:10},\"Ten\"),/*#__PURE__*/React.createElement(MenuItem,{value:20},\"Twenty\"),/*#__PURE__*/React.createElement(MenuItem,{value:30},\"Thirty\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"buttonWrapper2\"},/*#__PURE__*/React.createElement(\"p\",null,\"UPDATED AS OF JUNE 30, \",fiscalYear))),/*#__PURE__*/React.createElement(\"div\",{className:\"un-sdgs-filter\"},/*#__PURE__*/React.createElement(\"div\",{className:\"un-sdgs-filter-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filter-name\"},\"UN SDGs\"),/*#__PURE__*/React.createElement(SelectAllButton,{onClick:function onClick(){_this2.onChange(_this2.state.funding,_this2.state.bondType,_this2.state.year,'all');}},\"DESELECT ALL\")),/*#__PURE__*/React.createElement(\"div\",{className:\"un-sdgs-filter-bottom\"},this.state.sdgdisplay.map(function(sdg){return/*#__PURE__*/React.createElement(\"div\",{className:\"un-sdgs-filter-item\",onclick:\"changeClass(this.id)\",onClick:function onClick(){_this2.onChange(_this2.state.funding,_this2.state.bondType,_this2.state.year,sdg.value);}},/*#__PURE__*/React.createElement(\"img\",{width:\"52\",height:\"52\",src:sdg.imgSrc,alt:\"sdg\"}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"other-filter\"},/*#__PURE__*/React.createElement(\"div\",{className:\"other-filter-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"other-filter-item-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filter-name\"},\"Funding\"),/*#__PURE__*/React.createElement(SelectAllButton,{onClick:function onClick(){_this2.onChange('all',_this2.state.bondType,_this2.state.year,_this2.state.sdgs);}},\"DESELECT ALL\")),/*#__PURE__*/React.createElement(\"div\",{className:\"other-filter-item-bottom\"},fundings.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"funding-filter-item \".concat(_this2.state.funding==='part'&&_this2.state.fundingArray.includes(item.label)?'active':''),onClick:function onClick(){_this2.onChange(item.label,_this2.state.bondType,_this2.state.year,_this2.state.sdgs);}},item.label);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"other-filter-item\",style:{margin:'0 56px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"other-filter-item-top\",style:{width:'200px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"filter-name\"},\"Bond Type\"),/*#__PURE__*/React.createElement(SelectAllButton,{onClick:function onClick(){_this2.onChange(_this2.state.funding,'all',_this2.state.year,_this2.state.sdgs);}},\"DESELECT ALL\")),/*#__PURE__*/React.createElement(\"div\",{className:\"other-filter-item-bottom\"},bondTypes.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"bond-types-filter-item \".concat(_this2.state.bondType==='part'&&_this2.state.bondTypeArray.includes(item.label)?'active':''),onClick:function onClick(){_this2.onChange(_this2.state.funding,item.label,_this2.state.year,_this2.state.sdgs);}},item.label);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"other-filter-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"other-filter-item-top\",style:{width:'424px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"filter-name\"},\"Issue Year\"),/*#__PURE__*/React.createElement(SelectAllButton,{onClick:function onClick(){_this2.onChange(_this2.state.funding,_this2.state.bondType,'all',_this2.state.sdgs);}},\"DESELECT ALL\")),/*#__PURE__*/React.createElement(\"div\",{className:\"other-filter-item-bottom\"},issueYears.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"issue-years-filter-item \".concat(_this2.state.year==='part'&&_this2.state.yearArray.includes(item.label)?'active':''),onClick:function onClick(){_this2.onChange(_this2.state.funding,_this2.state.bondType,item.label,_this2.state.sdgs);}},item.label);})))));}}]);return Filter;}(React.Component);export default Filter;","map":{"version":3,"sources":["/Users/yueshanlin/Documents/capstoneProject/src/components/Filter/Filter.js"],"names":["React","useState","ReactSwipe","styled","Breadcrumbs","Link","Button","Select","FormControl","InputLabel","MenuItem","sdgs","sdgsgrey","fundings","bondTypes","issueYears","SelectAllButton","Filter","props","onChange","myFunding","myBondType","myYear","mySdg","myFundingArray","state","fundingArray","myFundingRange","myBondTypeArray","bondTypeArray","myBondTypeRange","myYearArray","yearArray","myYearRange","mySdgsArray","sdgsArray","mySdgsRange","includes","index","indexOf","splice","length","concat","displayindex","sdgdisplay","map","e","value","temp1","setState","temp2","deepCopySdgsgrey","funding","bondType","year","changeFilter","bind","sdgsgreyCopy","JSON","parse","stringify","fiscalYear","Date","getFullYear","bondIssuer","handleChange","sdg","imgSrc","item","label","margin","width","Component"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport ReactSwipe from 'react-swipe';\r\nimport styled from 'styled-components'\r\nimport { Breadcrumbs, Link, Button, Select, FormControl, InputLabel, MenuItem } from '@material-ui/core';\r\nimport { sdgs, sdgsgrey, fundings, bondTypes, issueYears } from './const'\r\nimport './Filter.css'\r\n\r\nconst SelectAllButton = styled(Button)`\r\n&.MuiButton-root{\r\n  color: #1589EE;\r\nfont-weight: bold;\r\n  \r\n}\r\n`\r\n\r\nclass Filter extends React.Component {\r\n\r\n constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      funding: 'all',\r\n      fundingArray: [],\r\n      bondType: 'all',\r\n      bondTypeArray: [],\r\n      year: 'all',\r\n      yearArray: [],\r\n      sdgs: 'all',\r\n      sdgsArray: [],\r\n      sdgdisplay: []\r\n    }\r\n    this.onChange = this.onChange.bind(this);\r\n    this.deepCopySdgsgrey = this.deepCopySdgsgrey.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.deepCopySdgsgrey();\r\n  }\r\n\r\n  deepCopySdgsgrey() {\r\n    var sdgsgreyCopy = JSON.parse(JSON.stringify(sdgsgrey));\r\n    this.setState({sdgdisplay: sdgsgreyCopy});\r\n  }\r\n\r\n\r\n  onChange = (myFunding, myBondType, myYear, mySdg) => {\r\n    var myFundingArray = [...this.state.fundingArray];\r\n    var myFundingRange = 'all';\r\n    var myBondTypeArray = [...this.state.bondTypeArray];\r\n    var myBondTypeRange = 'all';\r\n    var myYearArray = [...this.state.yearArray];\r\n    var myYearRange = 'all';\r\n    var mySdgsArray = [...this.state.sdgsArray];\r\n    var mySdgsRange = 'all';\r\n\r\n    if(myFunding != 'all') {\r\n      myFundingRange = 'part';\r\n      if(myFundingArray.includes(myFunding)) {\r\n       var index = myFundingArray.indexOf(myFunding);\r\n        if(index > -1) {\r\n          myFundingArray.splice(index, 1);\r\n        }\r\n        if(myFundingArray.length == 0) {\r\n          myFundingRange = 'all';\r\n        }\r\n      }\r\n      else {\r\n        myFundingArray = myFundingArray.concat(myFunding)\r\n      }\r\n    }\r\n    else {\r\n      myFundingRange = 'all';\r\n      myFundingArray = [];\r\n    }\r\n    if(myBondType != 'all') {\r\n      myBondTypeRange = 'part';\r\n      if(myBondTypeArray.includes(myBondType)) {\r\n       var index = myBondTypeArray.indexOf(myBondType);\r\n        if(index > -1) {\r\n          myBondTypeArray.splice(index, 1);\r\n        }\r\n        if(myBondTypeArray.length == 0) {\r\n          myBondTypeRange = 'all';\r\n        }\r\n      }\r\n      else {\r\n        myBondTypeArray = myBondTypeArray.concat(myBondType)\r\n      }\r\n    }\r\n    else {\r\n      myBondTypeRange = 'all';\r\n      myBondTypeArray = [];\r\n    }\r\n\r\n    if(myYear != 'all') {\r\n      myYearRange = 'part';\r\n      if(myYearArray.includes(myYear)) {\r\n        var index = myYearArray.indexOf(myYear);\r\n        if(index > -1) {\r\n          myYearArray.splice(index, 1);\r\n        }\r\n        if(myYearArray.length == 0) {\r\n          myYearRange = 'all';\r\n        }\r\n      }\r\n      else {\r\n        myYearArray = myYearArray.concat(myYear);\r\n      }\r\n    }\r\n    else {\r\n      myYearRange = 'all';\r\n      myYearArray = [];\r\n    }\r\n\r\n    if(mySdg != 'all')   {\r\n      mySdgsRange = 'part';\r\n      var displayindex = this.state.sdgdisplay.map(function(e) { return e.value; }).indexOf(mySdg);\r\n      if(mySdgsArray.includes(mySdg)) {\r\n        if(displayindex > -1)   { \r\n          var temp1 = this.state.sdgdisplay;\r\n          temp1[displayindex] = sdgsgrey[displayindex];\r\n          this.setState({sdgdisplay: temp1});\r\n        }\r\n        var index = mySdgsArray.indexOf(mySdg);      \r\n        if(index > -1) {\r\n          mySdgsArray.splice(index, 1);\r\n        }\r\n        if(mySdgsArray.length == 0) {\r\n          mySdgsRange = 'all';\r\n        }\r\n      }\r\n      else {\r\n        mySdgsArray = mySdgsArray.concat(mySdg);\r\n        \r\n        if(displayindex > -1) {\r\n          var temp2 = this.state.sdgdisplay;\r\n          temp2[displayindex] = sdgs[displayindex];\r\n          this.setState({sdgdisplay: temp2});\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      mySdgsRange = 'all';\r\n      mySdgsArray = [];\r\n      this.deepCopySdgsgrey();\r\n    }\r\n     \r\n    this.setState({funding: myFundingRange, fundingArray: myFundingArray, bondType: myBondTypeRange, bondTypeArray: myBondTypeArray, year: myYearRange, yearArray: myYearArray, sdgs:mySdgsRange, sdgsArray: mySdgsArray })\r\n    this.props.changeFilter(myFundingRange, myFundingArray, myBondTypeRange, myBondTypeArray, myYearRange, myYearArray, mySdgsRange, mySdgsArray)\r\n    }\r\n    \r\n    \r\n  \r\n\r\n\r\n\r\n  render() {\r\n    var fiscalYear = new Date().getFullYear()-1;\r\n  return (\r\n    <div className=\"Filter\">\r\n    <div className=\"buttonLine\">\r\n    <div className=\"buttonWrapper\">\r\n          <FormControl variant=\"outlined\" >\r\n        <InputLabel id=\"select-outlined-label\">SELECT A BOND ISSUER</InputLabel>\r\n        <Select\r\n          labelId=\"select-outlined-label\"\r\n          id=\"select-outlined\"\r\n          value={this.state.bondIssuer}\r\n          onChange={this.handleChange}\r\n          label=\"Age\"\r\n        >\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n          <MenuItem value={10}>Ten</MenuItem>\r\n          <MenuItem value={20}>Twenty</MenuItem>\r\n          <MenuItem value={30}>Thirty</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n          {/* <nav>SELECT A BOND ISSUER</nav> */}\r\n    </div>\r\n    <div className=\"buttonWrapper2\">\r\n  <p>UPDATED AS OF JUNE 30, {fiscalYear}</p>\r\n    </div>\r\n    </div>\r\n      <div className=\"un-sdgs-filter\">\r\n        <div className=\"un-sdgs-filter-top\">\r\n          <div className=\"filter-name\">UN SDGs</div>\r\n          <SelectAllButton onClick={() => { this.onChange(this.state.funding, this.state.bondType, this.state.year,'all') }}>DESELECT ALL</SelectAllButton>\r\n        </div>\r\n        <div className=\"un-sdgs-filter-bottom\">\r\n          {\r\n            this.state.sdgdisplay.map((sdg) => {\r\n              return <div className=\"un-sdgs-filter-item\" onclick=\"changeClass(this.id)\" onClick={() => { this.onChange(this.state.funding, this.state.bondType, this.state.year, sdg.value) }}>\r\n                <img width=\"52\" height=\"52\" src={sdg.imgSrc} alt='sdg' />\r\n              </div>\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className=\"other-filter\">\r\n        <div className=\"other-filter-item\">\r\n          <div className=\"other-filter-item-top\">\r\n            <div className=\"filter-name\">Funding</div>\r\n            <SelectAllButton onClick={() => { this.onChange('all', this.state.bondType, this.state.year, this.state.sdgs)}}>DESELECT ALL</SelectAllButton>\r\n          </div>\r\n          <div className=\"other-filter-item-bottom\" >\r\n            {fundings.map((item) => <div className={`funding-filter-item ${this.state.funding === 'part' && this.state.fundingArray.includes(item.label) ? 'active' : ''}`} onClick={() => { this.onChange(item.label, this.state.bondType, this.state.year, this.state.sdgs)}}>{item.label}</div>)}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"other-filter-item\" style={{ margin: '0 56px' }}>\r\n          <div className=\"other-filter-item-top\" style={{ width: '200px' }}>\r\n            <div className=\"filter-name\">Bond Type</div>\r\n            <SelectAllButton onClick={() => { this.onChange(this.state.funding, 'all', this.state.year, this.state.sdgs)}}>DESELECT ALL</SelectAllButton>\r\n          </div>\r\n          <div className=\"other-filter-item-bottom\">\r\n            {bondTypes.map((item) => <div className={`bond-types-filter-item ${this.state.bondType === 'part' && this.state.bondTypeArray.includes(item.label) ? 'active' : ''}`} onClick={() => { this.onChange(this.state.funding, item.label, this.state.year, this.state.sdgs)}}>{item.label}</div>)}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"other-filter-item\">\r\n          <div className=\"other-filter-item-top\" style={{ width: '424px' }}>\r\n            <div className=\"filter-name\">Issue Year</div>\r\n            <SelectAllButton onClick={() => { this.onChange(this.state.funding, this.state.bondType, 'all', this.state.sdgs)}}>DESELECT ALL</SelectAllButton>\r\n          </div>\r\n          <div className=\"other-filter-item-bottom\">\r\n            {issueYears.map((item) => <div className={`issue-years-filter-item ${this.state.year === 'part' && this.state.yearArray.includes(item.label) ? 'active' : ''}`} onClick={() => { this.onChange(this.state.funding, this.state.bondType, item.label, this.state.sdgs) }}>{item.label}</div>)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n}\r\n\r\nexport default Filter;"]},"metadata":{},"sourceType":"module"}