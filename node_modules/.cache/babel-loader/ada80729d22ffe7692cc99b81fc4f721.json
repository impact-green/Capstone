{"ast":null,"code":"import _classCallCheck from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yueshanlin/Documents/capstoneProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import*as d3 from'd3';import{scaleLinear}from'd3-scale';import{max}from'd3-array';import{select}from'd3-selection';var GHGEmission=/*#__PURE__*/function(_Component){_inherits(GHGEmission,_Component);var _super=_createSuper(GHGEmission);function GHGEmission(props){var _this;_classCallCheck(this,GHGEmission);_this=_super.call(this,props);_this.createBarChart=_this.createBarChart.bind(_assertThisInitialized(_this));return _this;}_createClass(GHGEmission,[{key:\"componentDidMount\",value:function componentDidMount(){this.createBarChart();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.createBarChart();}},{key:\"createBarChart\",value:function createBarChart(){var models=this.props.data;var container=d3.select(this.node),width=545,height=253.54,margin={top:20,right:0,bottom:30,left:0},barPadding=.2,axisTicks={qty:5,outerSize:0,dateFormat:'%m-%d'};var svg=container.append(\"svg\").attr(\"width\",width).attr(\"height\",height).append(\"g\").attr(\"transform\",\"translate(\".concat(margin.left,\",\").concat(margin.top,\")\"));var xScale0=d3.scaleBand().range([0,width-margin.left-margin.right]).padding(barPadding);var xScale1=d3.scaleBand();var yScale=d3.scaleLinear().range([height-margin.top-margin.bottom,0]);var xAxis=d3.axisBottom(xScale0).tickSizeOuter(axisTicks.outerSize);var yAxis=d3.axisLeft(yScale).ticks(axisTicks.qty).tickSizeOuter(axisTicks.outerSize);xScale0.domain(models.map(function(d){return d.year;}));xScale1.domain(['baseline','actual']).range([0,xScale0.bandwidth()]);yScale.domain([0,d3.max(models,function(d){return d.baseline>d.actual?d.baseline:d.actual;})]);var year=svg.selectAll(\".year\").data(models).enter().append(\"g\").attr(\"class\",\"year\").attr(\"transform\",function(d){return\"translate(\".concat(xScale0(d.year),\",0)\");});/* Add field1 bars */var bar1=year.selectAll(\".bar.baseline\").data(function(d){return[d];}).enter().append(\"g\");bar1.append(\"rect\").attr(\"class\",\"bar baseline\").style(\"fill\",\"#207A5C\").attr(\"x\",function(d){return xScale1('baseline');}).attr(\"y\",function(d){return yScale(d.baseline);}).attr(\"width\",xScale1.bandwidth()).attr(\"height\",function(d){return height-margin.top-margin.bottom-yScale(d.baseline);});bar1.append(\"text\").text(function(d){return d.baseline;}).attr(\"x\",function(d){return xScale1.bandwidth()/2;}).attr(\"y\",function(d){return yScale(d.baseline)-5;}).attr(\"font-family\",\"sans-serif\").attr(\"font-size\",\"14px\").attr(\"fill\",\"black\").attr(\"text-anchor\",\"middle\");/* Add field2 bars */var bar2=year.selectAll(\".bar.actual\").data(function(d){return[d];}).enter();bar2.append(\"rect\").attr(\"class\",\"bar actual\").style(\"fill\",\"#88B8A8\").attr(\"x\",function(d){return xScale1('actual');}).attr(\"y\",function(d){return yScale(d.actual);}).attr(\"width\",xScale1.bandwidth()).attr(\"height\",function(d){return height-margin.top-margin.bottom-yScale(d.actual);});bar2.append(\"text\").text(function(d){return d.actual;}).attr(\"x\",function(d){return xScale1.bandwidth()*1.5;}).attr(\"y\",function(d){return yScale(d.actual)-5;}).attr(\"font-family\",\"Roboto\").attr(\"font-size\",\"14px\").attr(\"fill\",\"black\").attr(\"text-anchor\",\"middle\");// Add the X Axis\nsvg.append(\"g\").attr(\"class\",\"x axis\").attr(\"transform\",\"translate(0,\".concat(height-margin.top-margin.bottom,\")\")).call(xAxis);// Add the Y Axis\n}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"svg\",{ref:function ref(node){return _this2.node=node;},width:545,height:253.54});}}]);return GHGEmission;}(Component);export default GHGEmission;","map":{"version":3,"sources":["/Users/yueshanlin/Documents/capstoneProject/src/components/WaterProject/GHGEmission.js"],"names":["React","Component","d3","scaleLinear","max","select","GHGEmission","props","createBarChart","bind","models","data","container","node","width","height","margin","top","right","bottom","left","barPadding","axisTicks","qty","outerSize","dateFormat","svg","append","attr","xScale0","scaleBand","range","padding","xScale1","yScale","xAxis","axisBottom","tickSizeOuter","yAxis","axisLeft","ticks","domain","map","d","year","bandwidth","baseline","actual","selectAll","enter","bar1","style","text","bar2","call"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport * as d3 from 'd3';\nimport { scaleLinear } from 'd3-scale'\nimport { max } from 'd3-array'\nimport { select } from 'd3-selection'\n\nclass GHGEmission extends Component {\n   constructor(props){\n      super(props)\n      this.createBarChart = this.createBarChart.bind(this)\n   }\n\n   componentDidMount() {\n      this.createBarChart()\n   }\n   componentDidUpdate() {\n      this.createBarChart()\n   }\n\n\ncreateBarChart() {\n  \n  var models = this.props.data;\n\n\nvar container = d3.select(this.node),\n    width = 545,\n    height = 253.54,\n    margin = {top: 20, right: 0, bottom: 30, left: 0},\n    barPadding = .2,\n    axisTicks = {qty: 5, outerSize: 0, dateFormat: '%m-%d'};\n\nvar svg = container\n   .append(\"svg\")\n   .attr(\"width\", width)\n   .attr(\"height\", height)\n   .append(\"g\")\n   .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\nvar xScale0 = d3.scaleBand().range([0, width - margin.left - margin.right]).padding(barPadding);\nvar xScale1 = d3.scaleBand();\nvar yScale = d3.scaleLinear().range([height - margin.top - margin.bottom, 0]);\n\nvar xAxis = d3.axisBottom(xScale0).tickSizeOuter(axisTicks.outerSize);\nvar yAxis = d3.axisLeft(yScale).ticks(axisTicks.qty).tickSizeOuter(axisTicks.outerSize);\n\nxScale0.domain(models.map(d => d.year));\nxScale1.domain(['baseline', 'actual']).range([0, xScale0.bandwidth()]);\nyScale.domain([0, d3.max(models, d => d.baseline > d.actual ? d.baseline : d.actual)]);\n\nvar year = svg.selectAll(\".year\")\n  .data(models)\n  .enter().append(\"g\")\n  .attr(\"class\", \"year\")\n  .attr(\"transform\", d => `translate(${xScale0(d.year)},0)`);\n\n/* Add field1 bars */  \nvar bar1 = year.selectAll(\".bar.baseline\")  \n  .data(d => [d])\n  .enter()\n  .append(\"g\");\n\n  bar1.append(\"rect\")\n  .attr(\"class\", \"bar baseline\")\n.style(\"fill\",\"#207A5C\")\n  .attr(\"x\", d => xScale1('baseline'))\n  .attr(\"y\", d => yScale(d.baseline))\n  .attr(\"width\", xScale1.bandwidth())\n  .attr(\"height\", d => {\n    return height - margin.top - margin.bottom - yScale(d.baseline)\n  });\n\n  bar1.append(\"text\")\n    .text(d => { \n        return d.baseline;\n    })\n    .attr(\"x\", d => {\n        return xScale1.bandwidth()/2;\n    })\n    .attr(\"y\", d => {\n        return yScale(d.baseline) - 5;\n    })\n    .attr(\"font-family\" , \"sans-serif\")\n    .attr(\"font-size\" , \"14px\")\n    .attr(\"fill\" , \"black\")\n    .attr(\"text-anchor\", \"middle\");\n  \n/* Add field2 bars */\nvar bar2 = year.selectAll(\".bar.actual\")\n  .data(d => [d])\n  .enter();\n\n  bar2.append(\"rect\")\n  .attr(\"class\", \"bar actual\")\n.style(\"fill\",\"#88B8A8\")\n  .attr(\"x\", d => xScale1('actual'))\n  .attr(\"y\", d => yScale(d.actual))\n  .attr(\"width\", xScale1.bandwidth())\n  .attr(\"height\", d => {\n    return height - margin.top - margin.bottom - yScale(d.actual)\n  });\n\n    bar2.append(\"text\")\n    .text(d => { \n        return d.actual;\n    })\n    .attr(\"x\", d => {\n      return xScale1.bandwidth()*1.5;\n    })\n    .attr(\"y\", d => {\n        return yScale(d.actual) - 5;\n    })\n    .attr(\"font-family\" , \"Roboto\")\n    .attr(\"font-size\" , \"14px\")\n    .attr(\"fill\" , \"black\")\n    .attr(\"text-anchor\", \"middle\");\n \n// Add the X Axis\nsvg.append(\"g\")\n   .attr(\"class\", \"x axis\")\n   .attr(\"transform\", `translate(0,${height - margin.top - margin.bottom})`)\n   .call(xAxis);\n\n// Add the Y Axis\n\n   }\n\n\n\nrender() {\n  return <svg ref={node => this.node = node}\n    width={545} height={253.54}>\n      </svg>\n   }\n}\nexport default GHGEmission;\n\n\n"]},"metadata":{},"sourceType":"module"}